<div class="mg-t10">
    <app-header title="Customers" icon="fa-users">
        <mat-form-field class="mg-x2" appearance="standard">
            <mat-label>Search</mat-label>
            <input type="search" matInput placeholder="John Doe" [(ngModel)]="searchText" (keyup.enter)="search()" autocomplete="off" />
        </mat-form-field>
        <button mat-mini-fab color="primary" (click)="search()">
            <app-fa-icon icon="fa-search"></app-fa-icon>
        </button>
    </app-header>
    <table mat-table [dataSource]="dataSource" class="mg-t10 mat-elevation-z8">
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let element">
                <a class="link" routerLink="/customer/{{ element.id }}">{{ element.firstname }} {{ element.lastname }}</a>
            </td>
        </ng-container>

        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let element">{{ element.email }}</td>
        </ng-container>

        <ng-container matColumnDef="phoneNumber">
            <th mat-header-cell *matHeaderCellDef>Telephone Nr.</th>
            <td mat-cell *matCellDef="let element">{{ element.phoneNumber }}</td>
        </ng-container>

        <ng-container matColumnDef="walletAccess">
            <th mat-header-cell *matHeaderCellDef>Wallets</th>
            <td mat-cell *matCellDef="let element">
                <button mat-icon-button color="primary" [disabled]="!element.walletAccess" (click)="getWallets(element.id)">
                    <app-fa-icon icon="fa-wallet"></app-fa-icon>
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
</div>
